# 1. Set Db url, port number and JWT secret

Inside backend/.env

```shell
PORT=your_backend_port_number

MONGO_URI=replace_with_your_MongoDb_url

# For development/testing: you can keep a simple string.
# For production: always use a long, random secret (e.g., generated by openssl rand -base64 32).
JWT_SECRET=replace_with_a_long_random_secret
```

# 2. Start backend server

Make sure Ganache GUI is running.

```shell
node index.js
# or
npx nodemon index.js
```

# 3. Authentication

Assume backend running at http://localhost:5000.

A — Signup flow (first-time user)

```shell
1. POST /api/auth/signup-request
    JSON Body : { "name": "Alice", "walletAddress": "0xabc..." }
    Response : { "nonce": "Signup nonce: a1b2c3..." }

2. backend/tools/sign-message.js
    command : node tools/sign-message.js 0xPRIVATEKEY "Signup nonce: a1b2c3..."
    prints : 0xSIGNATURE

3. POST /api/auth/verify
    JSON Body : { "walletAddress": "0xabc...", "signature": "0xSIGNATURE" }
    Response : { "token": "eyJ...", "walletAddress":"0xabc...", "name":"Alice" }

4. Use the returned token for protected calls:
    GET /api/auth/me with header Authorization: Bearer <token> → returns user info.
```

B — Login flow (existing user)

```shell
1. POST /api/auth/login-request with { "walletAddress": "0xabc..." } → returns { nonce }.
2. Sign nonce with wallet → get signature.
3. POST /api/auth/verify with { walletAddress, signature } → returns { token }.
4. Use token for protected endpoints until it expires.
```

# 4. Helper tool files

1. backend/tools/sign-message.js
2. backend/utils/clearDb.js

```shell
cd backend
1. Usage: node tools/sign-message.js <privateKey> <nonce> # Returns signature
2. Usage: node utils/clearDb.js
```
