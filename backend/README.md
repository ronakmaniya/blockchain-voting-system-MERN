## 1. Set Db url, port number and JWT secret

Inside backend/.env

```shell
PORT=your_backend_port_number

MONGO_URI=replace_with_your_MongoDb_url

# For development/testing: you can keep a simple string.
# For production: always use a long, random secret (e.g., generated by openssl rand -base64 32).
JWT_SECRET=replace_with_a_long_random_secret

ELECTION_DURATION_MINUTES=set_your_election_duration

ELECTION_MONITOR_INTERVAL_SECONDS=set_your_election_monitor_interval
```

(See backend/config/env.js with compare to backend/.env)

## 2. üñ•Ô∏è Start Backend Server

> ‚ö†Ô∏è Make sure [Ganache GUI](https://trufflesuite.com/ganache/) is running before starting the backend.

1. Install dependencies:
   ```sh
   npm install
   ```
2. Start server:
   ```sh
   npm run dev
   # Or (recommended for development, auto-restarts on changes):
   npx nodemon index.js
   ```
3. The server will start at: http://localhost:5000


## 3. Authentication

Assume backend running at http://localhost:5000.

A ‚Äî Signup flow (first-time user)

```shell
1. POST /api/auth/signup-request
    JSON Body : { "name": "Alice", "walletAddress": "0xabc..." }
    Response : { "nonce": "Signup nonce: a1b2c3..." }

2. backend/tools/sign-message.js
    command : node tools/sign-message.js 0xPRIVATEKEY "Signup nonce: a1b2c3..."
    prints : 0xSIGNATURE

3. POST /api/auth/verify
    JSON Body : { "walletAddress": "0xabc...", "signature": "0xSIGNATURE" }
    Response : { "token": "eyJ...", "walletAddress":"0xabc...", "name":"Alice" }

4. Use the returned token for protected calls:
    GET /api/auth/me with header Authorization: Bearer <token> ‚Üí returns user info.
```

B ‚Äî Login flow (existing user)

```shell
1. POST /api/auth/login-request with { "walletAddress": "0xabc..." } ‚Üí returns { nonce }.
2. Sign nonce with wallet ‚Üí get signature.
3. POST /api/auth/verify with { walletAddress, signature } ‚Üí returns { token }.
4. Use token for protected endpoints until it expires.
```

## 4. Helper tool files

Developer-only tools:

1. backend/tools/sign-message.js

```shell
cd backend
1. Usage: node tools/sign-message.js <privateKey> <nonce> # Returns signature
```

## 5. Recommended durations for Election remains open

Who sets the election duration?

    Primary: a global default controlled by an environment variable ELECTION_DURATION_MINUTES. This covers auto-created elections from transactions.

    Optional future: allow admins (or the event generator) to pass a custom durationMinutes per-election when creating it (we leave hooks for that).

Recommended durations:

    Development / testing: 5‚Äì60 minutes (fast cycles).

    Small/college tests: 60 minutes (1 hour) ‚Äî gives students time to vote.

    Production / real elections: 24‚Äì72 hours (1440‚Äì4320 minutes) or more depending on the voting window.
